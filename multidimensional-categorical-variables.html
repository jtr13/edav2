<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 13 Multidimensional categorical variables | edav.info, 2nd edition</title>
  <meta name="description" content="Supplemental resources for GR5293 and GR5702" />
  <meta name="generator" content="bookdown 0.30 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 13 Multidimensional categorical variables | edav.info, 2nd edition" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Supplemental resources for GR5293 and GR5702" />
  <meta name="github-repo" content="jtr13/edav2" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 13 Multidimensional categorical variables | edav.info, 2nd edition" />
  
  <meta name="twitter:description" content="Supplemental resources for GR5293 and GR5702" />
  

<meta name="author" content="Joyce Robbins" />


<meta name="date" content="2022-12-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="multidimensional-continuous-variables.html"/>
<link rel="next" href="missing-data.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<link href="libs/parallel-coordinates-2.1.8/parcoords.css" rel="stylesheet" />
<script src="libs/parcoords-binding-1.0.1/parcoords.js"></script>
<script src="libs/d3-5.16.0/d3.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">edav.info v2</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome!</a></li>
<li class="part"><span><b>I R resources</b></span></li>
<li class="chapter" data-level="2" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>2</b> Getting started</a>
<ul>
<li class="chapter" data-level="2.1" data-path="getting-started.html"><a href="getting-started.html#top-10-essentials-checklist"><i class="fa fa-check"></i><b>2.1</b> Top 10 essentials checklist</a></li>
<li class="chapter" data-level="2.2" data-path="getting-started.html"><a href="getting-started.html#troubleshooting"><i class="fa fa-check"></i><b>2.2</b> Troubleshooting</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="getting-started.html"><a href="getting-started.html#document-doesnt-knit"><i class="fa fa-check"></i><b>2.2.1</b> Document doesn’t knit</a></li>
<li class="chapter" data-level="2.2.2" data-path="getting-started.html"><a href="getting-started.html#functions-stop-working"><i class="fa fa-check"></i><b>2.2.2</b> Functions stop working</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="getting-started.html"><a href="getting-started.html#tips-tricks"><i class="fa fa-check"></i><b>2.3</b> Tips &amp; tricks</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="getting-started.html"><a href="getting-started.html#knitr"><i class="fa fa-check"></i><b>2.3.1</b> knitr</a></li>
<li class="chapter" data-level="2.3.2" data-path="getting-started.html"><a href="getting-started.html#sizing-figures"><i class="fa fa-check"></i><b>2.3.2</b> Sizing figures</a></li>
<li class="chapter" data-level="2.3.3" data-path="getting-started.html"><a href="getting-started.html#r-studio-keyborad-shortcuts"><i class="fa fa-check"></i><b>2.3.3</b> R studio keyborad shortcuts</a></li>
<li class="chapter" data-level="2.3.4" data-path="getting-started.html"><a href="getting-started.html#viewing-plots-in-plot-window"><i class="fa fa-check"></i><b>2.3.4</b> Viewing plots in plot window</a></li>
<li class="chapter" data-level="2.3.5" data-path="getting-started.html"><a href="getting-started.html#adding-figures-and-links"><i class="fa fa-check"></i><b>2.3.5</b> Adding figures and links</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="working-with-factors.html"><a href="working-with-factors.html"><i class="fa fa-check"></i><b>3</b> Working with factors</a>
<ul>
<li class="chapter" data-level="3.1" data-path="working-with-factors.html"><a href="working-with-factors.html#recode-factor-levels"><i class="fa fa-check"></i><b>3.1</b> Recode factor levels</a></li>
<li class="chapter" data-level="3.2" data-path="working-with-factors.html"><a href="working-with-factors.html#relevel-the-factor"><i class="fa fa-check"></i><b>3.2</b> Relevel the factor</a></li>
<li class="chapter" data-level="3.3" data-path="working-with-factors.html"><a href="working-with-factors.html#reorder-the-factors"><i class="fa fa-check"></i><b>3.3</b> Reorder the factors</a></li>
<li class="chapter" data-level="3.4" data-path="working-with-factors.html"><a href="working-with-factors.html#dealing-with-nas"><i class="fa fa-check"></i><b>3.4</b> Dealing with NAs</a></li>
<li class="chapter" data-level="3.5" data-path="working-with-factors.html"><a href="working-with-factors.html#summary-of-useful-functions"><i class="fa fa-check"></i><b>3.5</b> Summary of useful functions</a></li>
<li class="chapter" data-level="3.6" data-path="working-with-factors.html"><a href="working-with-factors.html#continuous-to-categorical"><i class="fa fa-check"></i><b>3.6</b> Continuous to Categorical</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-importation.html"><a href="data-importation.html"><i class="fa fa-check"></i><b>4</b> Data importation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-importation.html"><a href="data-importation.html#packages-with-built-in-data-set"><i class="fa fa-check"></i><b>4.1</b> Packages with built in data set</a></li>
<li class="chapter" data-level="4.2" data-path="data-importation.html"><a href="data-importation.html#data-from-web"><i class="fa fa-check"></i><b>4.2</b> Data from web</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="data-importation.html"><a href="data-importation.html#read-in-from-url"><i class="fa fa-check"></i><b>4.2.1</b> Read in from URL</a></li>
<li class="chapter" data-level="4.2.2" data-path="data-importation.html"><a href="data-importation.html#api-r-api-package"><i class="fa fa-check"></i><b>4.2.2</b> API / R API package</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="data-importation.html"><a href="data-importation.html#web-scraping"><i class="fa fa-check"></i><b>4.3</b> Web scraping</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="data-importation.html"><a href="data-importation.html#rvest"><i class="fa fa-check"></i><b>4.3.1</b> <code>rvest</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>5</b> Data transformation</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data-transformation.html"><a href="data-transformation.html#what-is-tidy-data"><i class="fa fa-check"></i><b>5.1</b> What is tidy data?</a></li>
<li class="chapter" data-level="5.2" data-path="data-transformation.html"><a href="data-transformation.html#pivot_longer"><i class="fa fa-check"></i><b>5.2</b> <code>pivot_longer</code></a></li>
<li class="chapter" data-level="5.3" data-path="data-transformation.html"><a href="data-transformation.html#pivot_wider"><i class="fa fa-check"></i><b>5.3</b> <code>pivot_wider</code></a></li>
<li class="chapter" data-level="5.4" data-path="data-transformation.html"><a href="data-transformation.html#basic-transformation-functions"><i class="fa fa-check"></i><b>5.4</b> Basic transformation functions</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="data-transformation.html"><a href="data-transformation.html#rename"><i class="fa fa-check"></i><b>5.4.1</b> <code>rename</code></a></li>
<li class="chapter" data-level="5.4.2" data-path="data-transformation.html"><a href="data-transformation.html#select"><i class="fa fa-check"></i><b>5.4.2</b> <code>select</code></a></li>
<li class="chapter" data-level="5.4.3" data-path="data-transformation.html"><a href="data-transformation.html#mutate"><i class="fa fa-check"></i><b>5.4.3</b> <code>mutate</code></a></li>
<li class="chapter" data-level="5.4.4" data-path="data-transformation.html"><a href="data-transformation.html#filter"><i class="fa fa-check"></i><b>5.4.4</b> <code>filter</code></a></li>
<li class="chapter" data-level="5.4.5" data-path="data-transformation.html"><a href="data-transformation.html#arrange"><i class="fa fa-check"></i><b>5.4.5</b> <code>arrange</code></a></li>
<li class="chapter" data-level="5.4.6" data-path="data-transformation.html"><a href="data-transformation.html#group_by-and-summarize"><i class="fa fa-check"></i><b>5.4.6</b> <code>group_by</code> and <code>summarize</code></a></li>
<li class="chapter" data-level="5.4.7" data-path="data-transformation.html"><a href="data-transformation.html#slice_max-slice_min"><i class="fa fa-check"></i><b>5.4.7</b> <code>slice_max</code> (<code>slice_min</code>)</a></li>
<li class="chapter" data-level="5.4.8" data-path="data-transformation.html"><a href="data-transformation.html#join"><i class="fa fa-check"></i><b>5.4.8</b> join</a></li>
<li class="chapter" data-level="5.4.9" data-path="data-transformation.html"><a href="data-transformation.html#cases-to-tables"><i class="fa fa-check"></i><b>5.4.9</b> Cases to tables</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="github.html"><a href="github.html"><i class="fa fa-check"></i><b>6</b> GitHub/git Resources</a>
<ul>
<li class="chapter" data-level="6.1" data-path="github.html"><a href="github.html#overview"><i class="fa fa-check"></i><b>6.1</b> Overview</a></li>
<li class="chapter" data-level="6.2" data-path="github.html"><a href="github.html#first-things-first"><i class="fa fa-check"></i><b>6.2</b> First things first</a></li>
<li class="chapter" data-level="6.3" data-path="github.html"><a href="github.html#usage"><i class="fa fa-check"></i><b>6.3</b> Usage</a></li>
<li class="chapter" data-level="6.4" data-path="github.html"><a href="github.html#the-no-branch-besides-main-workflow"><i class="fa fa-check"></i><b>6.4</b> The no branch (besides main) workflow</a></li>
<li class="chapter" data-level="6.5" data-path="github.html"><a href="github.html#your-repo-with-branching"><i class="fa fa-check"></i><b>6.5</b> Your repo with branching</a></li>
<li class="chapter" data-level="6.6" data-path="github.html"><a href="github.html#st-pr-on-another-repo-with-branching"><i class="fa fa-check"></i><b>6.6</b> 1st PR on another repo with branching</a>
<ul>
<li class="chapter" data-level="" data-path="github.html"><a href="github.html#step-1-fork-the-upstream-repo-once"><i class="fa fa-check"></i>Step 1: Fork the upstream repo (once)</a></li>
<li class="chapter" data-level="" data-path="github.html"><a href="github.html#step-2-clone-origin-and-create-a-local-repository-once"><i class="fa fa-check"></i>Step 2: Clone origin and create a local repository (once)</a></li>
<li class="chapter" data-level="" data-path="github.html"><a href="github.html#step-3-configure-remote-that-points-to-the-upstream-repository-once"><i class="fa fa-check"></i>Step 3: Configure remote that points to the upstream repository (once)</a></li>
<li class="chapter" data-level="" data-path="github.html"><a href="github.html#step-4-branch"><i class="fa fa-check"></i>Step 4: Branch</a></li>
<li class="chapter" data-level="" data-path="github.html"><a href="github.html#step-5-work-commit-and-push"><i class="fa fa-check"></i>Step 5: Work, commit and push</a></li>
<li class="chapter" data-level="" data-path="github.html"><a href="github.html#step-6-submit-a-pull-request"><i class="fa fa-check"></i>Step 6: Submit a pull request</a></li>
<li class="chapter" data-level="" data-path="github.html"><a href="github.html#step-7-merge-the-pull-request"><i class="fa fa-check"></i>Step 7: Merge the pull request</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="github.html"><a href="github.html#nd-nth-pr-on-another-repo-with-branching"><i class="fa fa-check"></i><b>6.7</b> 2nd-<em>n</em>th PR on another repo with branching</a>
<ul>
<li class="chapter" data-level="" data-path="github.html"><a href="github.html#step-1-sync"><i class="fa fa-check"></i>Step 1: Sync</a></li>
<li class="chapter" data-level="" data-path="github.html"><a href="github.html#step-2-delete-the-old-branch"><i class="fa fa-check"></i>Step 2: Delete the old branch</a></li>
<li class="chapter" data-level="" data-path="github.html"><a href="github.html#step-3-update-your-fork-on-github"><i class="fa fa-check"></i>Step 3: Update your fork on GitHub</a></li>
<li class="chapter" data-level="" data-path="github.html"><a href="github.html#steps-4-7-see-above"><i class="fa fa-check"></i>Steps 4-7: See above</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="github.html"><a href="github.html#fixing-mistakes"><i class="fa fa-check"></i><b>6.8</b> Fixing mistakes</a>
<ul>
<li class="chapter" data-level="6.8.1" data-path="github.html"><a href="github.html#forgot-to-branch"><i class="fa fa-check"></i><b>6.8.1</b> Forgot to branch</a></li>
<li class="chapter" data-level="6.8.2" data-path="github.html"><a href="github.html#undoing-stuff"><i class="fa fa-check"></i><b>6.8.2</b> Undoing stuff</a></li>
<li class="chapter" data-level="6.8.3" data-path="github.html"><a href="github.html#random"><i class="fa fa-check"></i><b>6.8.3</b> Random</a></li>
</ul></li>
<li class="chapter" data-level="6.9" data-path="github.html"><a href="github.html#troubleshooting-1"><i class="fa fa-check"></i><b>6.9</b> Troubleshooting</a>
<ul>
<li class="chapter" data-level="6.9.1" data-path="github.html"><a href="github.html#deleting-a-branch-isnt-working"><i class="fa fa-check"></i><b>6.9.1</b> Deleting a branch isn’t working</a></li>
</ul></li>
<li class="chapter" data-level="6.10" data-path="github.html"><a href="github.html#other-resources"><i class="fa fa-check"></i><b>6.10</b> Other resources</a>
<ul>
<li class="chapter" data-level="" data-path="github.html"><a href="github.html#getting-help"><i class="fa fa-check"></i>Getting Help</a></li>
<li class="chapter" data-level="" data-path="github.html"><a href="github.html#branching-out"><i class="fa fa-check"></i>Branching out</a></li>
<li class="chapter" data-level="" data-path="github.html"><a href="github.html#more-resources"><i class="fa fa-check"></i>More Resources</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II R graphics</b></span></li>
<li class="chapter" data-level="7" data-path="learning-ggplot2.html"><a href="learning-ggplot2.html"><i class="fa fa-check"></i><b>7</b> Learning ggplot2</a>
<ul>
<li class="chapter" data-level="7.1" data-path="learning-ggplot2.html"><a href="learning-ggplot2.html#getting-started-1"><i class="fa fa-check"></i><b>7.1</b> <strong>Getting started</strong></a></li>
<li class="chapter" data-level="7.2" data-path="learning-ggplot2.html"><a href="learning-ggplot2.html#default-part-layer"><i class="fa fa-check"></i><b>7.2</b> <strong>Default part: layer</strong></a></li>
<li class="chapter" data-level="7.3" data-path="learning-ggplot2.html"><a href="learning-ggplot2.html#customized-parts"><i class="fa fa-check"></i><b>7.3</b> <strong>Customized parts</strong></a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="learning-ggplot2.html"><a href="learning-ggplot2.html#geometric-object-statistical-transformation-and-position-adjustment"><i class="fa fa-check"></i><b>7.3.1</b> <strong>Geometric object, statistical transformation and position adjustment</strong></a></li>
<li class="chapter" data-level="7.3.2" data-path="learning-ggplot2.html"><a href="learning-ggplot2.html#scale"><i class="fa fa-check"></i><b>7.3.2</b> <strong>Scale</strong></a></li>
<li class="chapter" data-level="7.3.3" data-path="learning-ggplot2.html"><a href="learning-ggplot2.html#coordinate-system"><i class="fa fa-check"></i><b>7.3.3</b> <strong>Coordinate system</strong></a></li>
<li class="chapter" data-level="7.3.4" data-path="learning-ggplot2.html"><a href="learning-ggplot2.html#faceting"><i class="fa fa-check"></i><b>7.3.4</b> <strong>Faceting</strong></a></li>
<li class="chapter" data-level="7.3.5" data-path="learning-ggplot2.html"><a href="learning-ggplot2.html#labels"><i class="fa fa-check"></i><b>7.3.5</b> <strong>Labels</strong></a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="learning-ggplot2.html"><a href="learning-ggplot2.html#resources-for-ggplot2"><i class="fa fa-check"></i><b>7.4</b> <strong>Resources for ggplot2</strong></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="faceting-1.html"><a href="faceting-1.html"><i class="fa fa-check"></i><b>8</b> Faceting</a>
<ul>
<li class="chapter" data-level="8.1" data-path="faceting-1.html"><a href="faceting-1.html#faceting-on-one-variable"><i class="fa fa-check"></i><b>8.1</b> Faceting on one variable</a></li>
<li class="chapter" data-level="8.2" data-path="faceting-1.html"><a href="faceting-1.html#faceting-on-two-variables"><i class="fa fa-check"></i><b>8.2</b> Faceting on two variables</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="unidimensional-continuous-variables.html"><a href="unidimensional-continuous-variables.html"><i class="fa fa-check"></i><b>9</b> Unidimensional continuous variables</a>
<ul>
<li class="chapter" data-level="9.1" data-path="unidimensional-continuous-variables.html"><a href="unidimensional-continuous-variables.html#histogram"><i class="fa fa-check"></i><b>9.1</b> Histogram</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="unidimensional-continuous-variables.html"><a href="unidimensional-continuous-variables.html#basics-and-implications"><i class="fa fa-check"></i><b>9.1.1</b> Basics and implications</a></li>
<li class="chapter" data-level="9.1.2" data-path="unidimensional-continuous-variables.html"><a href="unidimensional-continuous-variables.html#types-of-histograms"><i class="fa fa-check"></i><b>9.1.2</b> Types of histograms</a></li>
<li class="chapter" data-level="9.1.3" data-path="unidimensional-continuous-variables.html"><a href="unidimensional-continuous-variables.html#parameters-for-geom_histogram"><i class="fa fa-check"></i><b>9.1.3</b> Parameters for geom_histogram</a></li>
<li class="chapter" data-level="9.1.4" data-path="unidimensional-continuous-variables.html"><a href="unidimensional-continuous-variables.html#interactive-histograms-with-ggvis"><i class="fa fa-check"></i><b>9.1.4</b> Interactive histograms with <code>ggvis</code></a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="unidimensional-continuous-variables.html"><a href="unidimensional-continuous-variables.html#boxplots"><i class="fa fa-check"></i><b>9.2</b> Boxplots</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="unidimensional-continuous-variables.html"><a href="unidimensional-continuous-variables.html#single-boxplot"><i class="fa fa-check"></i><b>9.2.1</b> Single boxplot</a></li>
<li class="chapter" data-level="9.2.2" data-path="unidimensional-continuous-variables.html"><a href="unidimensional-continuous-variables.html#multiple-boxplots"><i class="fa fa-check"></i><b>9.2.2</b> Multiple boxplots</a></li>
<li class="chapter" data-level="9.2.3" data-path="unidimensional-continuous-variables.html"><a href="unidimensional-continuous-variables.html#additional-resources"><i class="fa fa-check"></i><b>9.2.3</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="unidimensional-continuous-variables.html"><a href="unidimensional-continuous-variables.html#ridgeline-plot"><i class="fa fa-check"></i><b>9.3</b> Ridgeline plot</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="unidimensional-continuous-variables.html"><a href="unidimensional-continuous-variables.html#basics-and-implications-1"><i class="fa fa-check"></i><b>9.3.1</b> Basics and implications</a></li>
<li class="chapter" data-level="9.3.2" data-path="unidimensional-continuous-variables.html"><a href="unidimensional-continuous-variables.html#create-better-visuals"><i class="fa fa-check"></i><b>9.3.2</b> Create better visuals</a></li>
<li class="chapter" data-level="9.3.3" data-path="unidimensional-continuous-variables.html"><a href="unidimensional-continuous-variables.html#additional-resources-1"><i class="fa fa-check"></i><b>9.3.3</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="unidimensional-continuous-variables.html"><a href="unidimensional-continuous-variables.html#normal-distribution"><i class="fa fa-check"></i><b>9.4</b> Normal distribution</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="unidimensional-categorical-variables.html"><a href="unidimensional-categorical-variables.html"><i class="fa fa-check"></i><b>10</b> Unidimensional categorical variables</a>
<ul>
<li class="chapter" data-level="10.1" data-path="unidimensional-categorical-variables.html"><a href="unidimensional-categorical-variables.html#bar-plot"><i class="fa fa-check"></i><b>10.1</b> Bar plot</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="unidimensional-categorical-variables.html"><a href="unidimensional-categorical-variables.html#nominal-data"><i class="fa fa-check"></i><b>10.1.1</b> Nominal data</a></li>
<li class="chapter" data-level="10.1.2" data-path="unidimensional-categorical-variables.html"><a href="unidimensional-categorical-variables.html#ordinal-data"><i class="fa fa-check"></i><b>10.1.2</b> Ordinal data</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="unidimensional-categorical-variables.html"><a href="unidimensional-categorical-variables.html#cleveland-dot-plot"><i class="fa fa-check"></i><b>10.2</b> Cleveland dot plot</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="unidimensional-categorical-variables.html"><a href="unidimensional-categorical-variables.html#cleveland-dot-plot-with-multiple-dots"><i class="fa fa-check"></i><b>10.2.1</b> Cleveland dot plot with multiple dots</a></li>
<li class="chapter" data-level="10.2.2" data-path="unidimensional-categorical-variables.html"><a href="unidimensional-categorical-variables.html#cleveland-dot-plot-with-facets"><i class="fa fa-check"></i><b>10.2.2</b> Cleveland dot plot with facets</a></li>
<li class="chapter" data-level="10.2.3" data-path="unidimensional-categorical-variables.html"><a href="unidimensional-categorical-variables.html#example-how-much-people-in-the-trump-administration-are-worth"><i class="fa fa-check"></i><b>10.2.3</b> Example: How Much People in the Trump Administration Are Worth</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="two-continuous-variables.html"><a href="two-continuous-variables.html"><i class="fa fa-check"></i><b>11</b> Two continuous variables</a>
<ul>
<li class="chapter" data-level="11.1" data-path="two-continuous-variables.html"><a href="two-continuous-variables.html#scatterplot"><i class="fa fa-check"></i><b>11.1</b> Scatterplot</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="two-continuous-variables.html"><a href="two-continuous-variables.html#basics-and-implications-2"><i class="fa fa-check"></i><b>11.1.1</b> Basics and implications</a></li>
<li class="chapter" data-level="11.1.2" data-path="two-continuous-variables.html"><a href="two-continuous-variables.html#overplotting"><i class="fa fa-check"></i><b>11.1.2</b> Overplotting</a></li>
<li class="chapter" data-level="11.1.3" data-path="two-continuous-variables.html"><a href="two-continuous-variables.html#interactive-scatterplot"><i class="fa fa-check"></i><b>11.1.3</b> Interactive scatterplot</a></li>
<li class="chapter" data-level="11.1.4" data-path="two-continuous-variables.html"><a href="two-continuous-variables.html#modifications"><i class="fa fa-check"></i><b>11.1.4</b> Modifications</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="two-continuous-variables.html"><a href="two-continuous-variables.html#heatmaps"><i class="fa fa-check"></i><b>11.2</b> Heatmaps</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="two-continuous-variables.html"><a href="two-continuous-variables.html#basics-and-implications-3"><i class="fa fa-check"></i><b>11.2.1</b> Basics and implications</a></li>
<li class="chapter" data-level="11.2.2" data-path="two-continuous-variables.html"><a href="two-continuous-variables.html#modifications-1"><i class="fa fa-check"></i><b>11.2.2</b> Modifications</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="multidimensional-continuous-variables.html"><a href="multidimensional-continuous-variables.html"><i class="fa fa-check"></i><b>12</b> Multidimensional continuous variables</a>
<ul>
<li class="chapter" data-level="12.1" data-path="multidimensional-continuous-variables.html"><a href="multidimensional-continuous-variables.html#parallel-coordinate-plot"><i class="fa fa-check"></i><b>12.1</b> Parallel coordinate plot</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="multidimensional-continuous-variables.html"><a href="multidimensional-continuous-variables.html#basics-and-implications-4"><i class="fa fa-check"></i><b>12.1.1</b> Basics and implications</a></li>
<li class="chapter" data-level="12.1.2" data-path="multidimensional-continuous-variables.html"><a href="multidimensional-continuous-variables.html#modifications-2"><i class="fa fa-check"></i><b>12.1.2</b> Modifications</a></li>
<li class="chapter" data-level="12.1.3" data-path="multidimensional-continuous-variables.html"><a href="multidimensional-continuous-variables.html#interactive-parallel-coordinate-plot"><i class="fa fa-check"></i><b>12.1.3</b> Interactive parallel coordinate plot</a></li>
<li class="chapter" data-level="12.1.4" data-path="multidimensional-continuous-variables.html"><a href="multidimensional-continuous-variables.html#external-resource"><i class="fa fa-check"></i><b>12.1.4</b> External resource</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="multidimensional-continuous-variables.html"><a href="multidimensional-continuous-variables.html#biplot"><i class="fa fa-check"></i><b>12.2</b> Biplot</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="multidimensional-continuous-variables.html"><a href="multidimensional-continuous-variables.html#principal-components-analysis-pca"><i class="fa fa-check"></i><b>12.2.1</b> Principal components analysis (PCA)</a></li>
<li class="chapter" data-level="12.2.2" data-path="multidimensional-continuous-variables.html"><a href="multidimensional-continuous-variables.html#draw-a-biplot"><i class="fa fa-check"></i><b>12.2.2</b> Draw a biplot</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="multidimensional-categorical-variables.html"><a href="multidimensional-categorical-variables.html"><i class="fa fa-check"></i><b>13</b> Multidimensional categorical variables</a>
<ul>
<li class="chapter" data-level="13.1" data-path="multidimensional-categorical-variables.html"><a href="multidimensional-categorical-variables.html#barcharts"><i class="fa fa-check"></i><b>13.1</b> Barcharts</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="multidimensional-categorical-variables.html"><a href="multidimensional-categorical-variables.html#stacked-bar-chart"><i class="fa fa-check"></i><b>13.1.1</b> Stacked bar chart</a></li>
<li class="chapter" data-level="13.1.2" data-path="multidimensional-categorical-variables.html"><a href="multidimensional-categorical-variables.html#grouped-bar-chart"><i class="fa fa-check"></i><b>13.1.2</b> Grouped bar chart</a></li>
<li class="chapter" data-level="13.1.3" data-path="multidimensional-categorical-variables.html"><a href="multidimensional-categorical-variables.html#grouped-bar-chart-with-facets"><i class="fa fa-check"></i><b>13.1.3</b> Grouped bar chart with facets</a></li>
<li class="chapter" data-level="13.1.4" data-path="multidimensional-categorical-variables.html"><a href="multidimensional-categorical-variables.html#grouped-barchart-with-three-categorical-variables"><i class="fa fa-check"></i><b>13.1.4</b> Grouped barchart with three categorical variables</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="multidimensional-categorical-variables.html"><a href="multidimensional-categorical-variables.html#chi-square-test-of-independence"><i class="fa fa-check"></i><b>13.2</b> Chi square test of independence</a></li>
<li class="chapter" data-level="13.3" data-path="multidimensional-categorical-variables.html"><a href="multidimensional-categorical-variables.html#mosaic-plots"><i class="fa fa-check"></i><b>13.3</b> Mosaic plots</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="multidimensional-categorical-variables.html"><a href="multidimensional-categorical-variables.html#mosaic-plot-with-one-variable"><i class="fa fa-check"></i><b>13.3.1</b> Mosaic plot with one variable</a></li>
<li class="chapter" data-level="13.3.2" data-path="multidimensional-categorical-variables.html"><a href="multidimensional-categorical-variables.html#mosaic-plot-with-two-variables"><i class="fa fa-check"></i><b>13.3.2</b> Mosaic plot with two variables</a></li>
<li class="chapter" data-level="13.3.3" data-path="multidimensional-categorical-variables.html"><a href="multidimensional-categorical-variables.html#mosaic-plot-with-three-variablesbest-practice"><i class="fa fa-check"></i><b>13.3.3</b> Mosaic plot with three variables(Best practice)</a></li>
<li class="chapter" data-level="13.3.4" data-path="multidimensional-categorical-variables.html"><a href="multidimensional-categorical-variables.html#mosaic-pairs-plot"><i class="fa fa-check"></i><b>13.3.4</b> Mosaic pairs plot</a></li>
<li class="chapter" data-level="13.3.5" data-path="multidimensional-categorical-variables.html"><a href="multidimensional-categorical-variables.html#mosaic-plots-spine-plot"><i class="fa fa-check"></i><b>13.3.5</b> Mosaic plots: spine plot</a></li>
<li class="chapter" data-level="13.3.6" data-path="multidimensional-categorical-variables.html"><a href="multidimensional-categorical-variables.html#mosaic-plot-tree-map"><i class="fa fa-check"></i><b>13.3.6</b> Mosaic plot: tree map</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="multidimensional-categorical-variables.html"><a href="multidimensional-categorical-variables.html#alluvial-diagrams"><i class="fa fa-check"></i><b>13.4</b> Alluvial diagrams</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="multidimensional-categorical-variables.html"><a href="multidimensional-categorical-variables.html#ggalluvial"><i class="fa fa-check"></i><b>13.4.1</b> ggalluvial</a></li>
<li class="chapter" data-level="13.4.2" data-path="multidimensional-categorical-variables.html"><a href="multidimensional-categorical-variables.html#geom_flow"><i class="fa fa-check"></i><b>13.4.2</b> geom_flow</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="multidimensional-categorical-variables.html"><a href="multidimensional-categorical-variables.html#heat-map"><i class="fa fa-check"></i><b>13.5</b> Heat map</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="missing-data.html"><a href="missing-data.html"><i class="fa fa-check"></i><b>14</b> Missing data</a>
<ul>
<li class="chapter" data-level="14.1" data-path="missing-data.html"><a href="missing-data.html#introduction"><i class="fa fa-check"></i><b>14.1</b> Introduction</a></li>
<li class="chapter" data-level="14.2" data-path="missing-data.html"><a href="missing-data.html#row-column-missing-patterns"><i class="fa fa-check"></i><b>14.2</b> Row / Column missing patterns</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="missing-data.html"><a href="missing-data.html#colsums-rowsums"><i class="fa fa-check"></i><b>14.2.1</b> colSums() / rowSums()</a></li>
<li class="chapter" data-level="14.2.2" data-path="missing-data.html"><a href="missing-data.html#heatmap"><i class="fa fa-check"></i><b>14.2.2</b> Heatmap</a></li>
<li class="chapter" data-level="14.2.3" data-path="missing-data.html"><a href="missing-data.html#patterns"><i class="fa fa-check"></i><b>14.2.3</b> Patterns</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="colors.html"><a href="colors.html"><i class="fa fa-check"></i><b>15</b> Colors</a>
<ul>
<li class="chapter" data-level="15.1" data-path="colors.html"><a href="colors.html#rcolorbrewer"><i class="fa fa-check"></i><b>15.1</b> RColorBrewer</a></li>
<li class="chapter" data-level="15.2" data-path="colors.html"><a href="colors.html#perceptually-uniform-color-spaces-viridis"><i class="fa fa-check"></i><b>15.2</b> Perceptually uniform color spaces: Viridis</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="time-series.html"><a href="time-series.html"><i class="fa fa-check"></i><b>16</b> Time series</a>
<ul>
<li class="chapter" data-level="16.1" data-path="time-series.html"><a href="time-series.html#dates"><i class="fa fa-check"></i><b>16.1</b> Dates</a>
<ul>
<li class="chapter" data-level="16.1.1" data-path="time-series.html"><a href="time-series.html#basic-r-functions"><i class="fa fa-check"></i><b>16.1.1</b> Basic R functions</a></li>
<li class="chapter" data-level="16.1.2" data-path="time-series.html"><a href="time-series.html#lubridate"><i class="fa fa-check"></i><b>16.1.2</b> Lubridate</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="time-series.html"><a href="time-series.html#time-series-1"><i class="fa fa-check"></i><b>16.2</b> Time series</a></li>
<li class="chapter" data-level="16.3" data-path="time-series.html"><a href="time-series.html#multiple-time-series"><i class="fa fa-check"></i><b>16.3</b> Multiple time series</a></li>
<li class="chapter" data-level="16.4" data-path="time-series.html"><a href="time-series.html#time-series-patterns"><i class="fa fa-check"></i><b>16.4</b> Time series patterns</a></li>
<li class="chapter" data-level="16.5" data-path="time-series.html"><a href="time-series.html#index"><i class="fa fa-check"></i><b>16.5</b> Index</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="spatial-data.html"><a href="spatial-data.html"><i class="fa fa-check"></i><b>17</b> Spatial data</a>
<ul>
<li class="chapter" data-level="17.1" data-path="spatial-data.html"><a href="spatial-data.html#introduction-1"><i class="fa fa-check"></i><b>17.1</b> Introduction</a></li>
<li class="chapter" data-level="17.2" data-path="spatial-data.html"><a href="spatial-data.html#packages"><i class="fa fa-check"></i><b>17.2</b> Packages</a>
<ul>
<li class="chapter" data-level="17.2.1" data-path="spatial-data.html"><a href="spatial-data.html#choroplethr"><i class="fa fa-check"></i><b>17.2.1</b> <code>choroplethr</code></a></li>
<li class="chapter" data-level="17.2.2" data-path="spatial-data.html"><a href="spatial-data.html#ggmap"><i class="fa fa-check"></i><b>17.2.2</b> <code>ggmap</code></a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="spatial-data.html"><a href="spatial-data.html#shape-file"><i class="fa fa-check"></i><b>17.3</b> Shape file</a>
<ul>
<li class="chapter" data-level="17.3.1" data-path="spatial-data.html"><a href="spatial-data.html#sf"><i class="fa fa-check"></i><b>17.3.1</b> <code>sf</code></a></li>
<li class="chapter" data-level="17.3.2" data-path="spatial-data.html"><a href="spatial-data.html#tmap"><i class="fa fa-check"></i><b>17.3.2</b> <code>tmap</code></a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Appendix</b></span></li>
<li class="chapter" data-level="18" data-path="cutting-room-floor.html"><a href="cutting-room-floor.html"><i class="fa fa-check"></i><b>18</b> Cutting room floor</a>
<ul>
<li class="chapter" data-level="18.1" data-path="cutting-room-floor.html"><a href="cutting-room-floor.html#parallel-coordinate-plots"><i class="fa fa-check"></i><b>18.1</b> Parallel coordinate plots</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">edav.info, 2nd edition</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="multidimensional-categorical-variables" class="section level1 hasAnchor" number="13">
<h1><span class="header-section-number">Chapter 13</span> Multidimensional categorical variables<a href="multidimensional-categorical-variables.html#multidimensional-categorical-variables" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In this chapter, we will focus on multivariate categorical data. Here, it is noteworthy that multivariate plot is not the same as multiple variable plot, where the former is used for analysis with multiple outcomes.</p>
<div id="barcharts" class="section level2 hasAnchor" number="13.1">
<h2><span class="header-section-number">13.1</span> Barcharts<a href="multidimensional-categorical-variables.html#barcharts" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Bar chats are used to display the frequency of multidimensional categorical variables. In the next few plots you will be shown different kinds of bar charts.</p>
<div id="stacked-bar-chart" class="section level3 hasAnchor" number="13.1.1">
<h3><span class="header-section-number">13.1.1</span> Stacked bar chart<a href="multidimensional-categorical-variables.html#stacked-bar-chart" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="multidimensional-categorical-variables.html#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb122-2"><a href="multidimensional-categorical-variables.html#cb122-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb122-3"><a href="multidimensional-categorical-variables.html#cb122-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb122-4"><a href="multidimensional-categorical-variables.html#cb122-4" aria-hidden="true" tabindex="-1"></a>cases <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/icecream.csv&quot;</span>)</span>
<span id="cb122-5"><a href="multidimensional-categorical-variables.html#cb122-5" aria-hidden="true" tabindex="-1"></a>icecreamcolors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;#ff99ff&quot;</span>, <span class="st">&quot;#cc9966&quot;</span>) <span class="co"># pink, coffee</span></span>
<span id="cb122-6"><a href="multidimensional-categorical-variables.html#cb122-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cases, <span class="fu">aes</span>(<span class="at">x =</span> Age, <span class="at">fill =</span> Favorite)) <span class="sc">+</span> </span>
<span id="cb122-7"><a href="multidimensional-categorical-variables.html#cb122-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>() <span class="sc">+</span> <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> icecreamcolors)</span></code></pre></div>
<p><img src="multidimensional_categorical_files/figure-html/unnamed-chunk-1-1.png" width="384" style="display: block; margin: auto;" /></p>
</div>
<div id="grouped-bar-chart" class="section level3 hasAnchor" number="13.1.2">
<h3><span class="header-section-number">13.1.2</span> Grouped bar chart<a href="multidimensional-categorical-variables.html#grouped-bar-chart" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Use <code>position = "dodge"</code> to create grouped bar chart</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="multidimensional-categorical-variables.html#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cases, <span class="fu">aes</span>(<span class="at">x =</span> Age, <span class="at">fill =</span> Favorite)) <span class="sc">+</span></span>
<span id="cb123-2"><a href="multidimensional-categorical-variables.html#cb123-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span></span>
<span id="cb123-3"><a href="multidimensional-categorical-variables.html#cb123-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> icecreamcolors)</span></code></pre></div>
<p><img src="multidimensional_categorical_files/figure-html/unnamed-chunk-2-1.png" width="384" style="display: block; margin: auto;" /></p>
</div>
<div id="grouped-bar-chart-with-facets" class="section level3 hasAnchor" number="13.1.3">
<h3><span class="header-section-number">13.1.3</span> Grouped bar chart with facets<a href="multidimensional-categorical-variables.html#grouped-bar-chart-with-facets" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="multidimensional-categorical-variables.html#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cases, <span class="fu">aes</span>(<span class="at">x =</span> Age)) <span class="sc">+</span></span>
<span id="cb124-2"><a href="multidimensional-categorical-variables.html#cb124-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span></span>
<span id="cb124-3"><a href="multidimensional-categorical-variables.html#cb124-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>Favorite)</span></code></pre></div>
<p><img src="multidimensional_categorical_files/figure-html/unnamed-chunk-3-1.png" width="384" style="display: block; margin: auto;" /></p>
</div>
<div id="grouped-barchart-with-three-categorical-variables" class="section level3 hasAnchor" number="13.1.4">
<h3><span class="header-section-number">13.1.4</span> Grouped barchart with three categorical variables<a href="multidimensional-categorical-variables.html#grouped-barchart-with-three-categorical-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="multidimensional-categorical-variables.html#cb125-1" aria-hidden="true" tabindex="-1"></a>counts3 <span class="ot">&lt;-</span> cases <span class="sc">%&gt;%</span></span>
<span id="cb125-2"><a href="multidimensional-categorical-variables.html#cb125-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Age, Favorite, Music) <span class="sc">%&gt;%</span></span>
<span id="cb125-3"><a href="multidimensional-categorical-variables.html#cb125-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Freq =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb125-4"><a href="multidimensional-categorical-variables.html#cb125-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb125-5"><a href="multidimensional-categorical-variables.html#cb125-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">complete</span>(Age, Favorite, Music, <span class="at">fill =</span> <span class="fu">list</span>(<span class="at">Freq =</span> <span class="dv">0</span>))</span>
<span id="cb125-6"><a href="multidimensional-categorical-variables.html#cb125-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-7"><a href="multidimensional-categorical-variables.html#cb125-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(counts3, <span class="fu">aes</span>(<span class="at">x =</span> Favorite, <span class="at">y =</span> Freq, <span class="at">fill =</span> Music)) <span class="sc">+</span></span>
<span id="cb125-8"><a href="multidimensional-categorical-variables.html#cb125-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span></span>
<span id="cb125-9"><a href="multidimensional-categorical-variables.html#cb125-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>Age)</span></code></pre></div>
<p><img src="multidimensional_categorical_files/figure-html/unnamed-chunk-4-1.png" width="384" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="chi-square-test-of-independence" class="section level2 hasAnchor" number="13.2">
<h2><span class="header-section-number">13.2</span> Chi square test of independence<a href="multidimensional-categorical-variables.html#chi-square-test-of-independence" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this section, we would like to show how to use chi-square test to check the independence between two features.</p>
<p>We will use the following example to answer: Are older Americans more interested in local news than younger Americans? The dataset is collected from <a href="https://www.journalism.org/2019/08/14/methodology-local-news-demographics/">here</a>.</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="multidimensional-categorical-variables.html#cb126-1" aria-hidden="true" tabindex="-1"></a>local <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Age =</span> <span class="fu">c</span>(<span class="st">&quot;18-29&quot;</span>, <span class="st">&quot;30-49&quot;</span>, <span class="st">&quot;50-64&quot;</span>, <span class="st">&quot;65+&quot;</span>),</span>
<span id="cb126-2"><a href="multidimensional-categorical-variables.html#cb126-2" aria-hidden="true" tabindex="-1"></a>                        <span class="at">Freq =</span> <span class="fu">c</span>(<span class="dv">2851</span>, <span class="dv">9967</span>, <span class="dv">11163</span>, <span class="dv">10911</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb126-3"><a href="multidimensional-categorical-variables.html#cb126-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Followers =</span> <span class="fu">round</span>(Freq<span class="sc">*</span><span class="fu">c</span>(.<span class="dv">15</span>, .<span class="dv">28</span>, .<span class="dv">38</span>, .<span class="dv">42</span>)),</span>
<span id="cb126-4"><a href="multidimensional-categorical-variables.html#cb126-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">Nonfollowers =</span> Freq <span class="sc">-</span> Followers) <span class="sc">%&gt;%</span></span>
<span id="cb126-5"><a href="multidimensional-categorical-variables.html#cb126-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Freq)</span>
<span id="cb126-6"><a href="multidimensional-categorical-variables.html#cb126-6" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(local[,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>])</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Age</th>
<th align="right">Followers</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">18-29</td>
<td align="right">428</td>
</tr>
<tr class="even">
<td align="left">30-49</td>
<td align="right">2791</td>
</tr>
<tr class="odd">
<td align="left">50-64</td>
<td align="right">4242</td>
</tr>
<tr class="even">
<td align="left">65+</td>
<td align="right">4583</td>
</tr>
</tbody>
</table>
<p>The chi-square hypothesis is set to be:</p>
<p>Null hypothesis: Age and tendency to follow local news are independent</p>
<p>Alternative hypothesis: Age and tendence to follow local news are NOT independent</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="multidimensional-categorical-variables.html#cb127-1" aria-hidden="true" tabindex="-1"></a>localmat <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(local[,<span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>])</span>
<span id="cb127-2"><a href="multidimensional-categorical-variables.html#cb127-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(localmat) <span class="ot">&lt;-</span> local<span class="sc">$</span>Age</span>
<span id="cb127-3"><a href="multidimensional-categorical-variables.html#cb127-3" aria-hidden="true" tabindex="-1"></a>X <span class="ot">&lt;-</span> <span class="fu">chisq.test</span>(localmat, <span class="at">correct =</span> <span class="cn">FALSE</span>)</span>
<span id="cb127-4"><a href="multidimensional-categorical-variables.html#cb127-4" aria-hidden="true" tabindex="-1"></a>X<span class="sc">$</span>observed</span></code></pre></div>
<pre><code>##       Followers Nonfollowers
## 18-29       428         2423
## 30-49      2791         7176
## 50-64      4242         6921
## 65+        4583         6328</code></pre>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="multidimensional-categorical-variables.html#cb129-1" aria-hidden="true" tabindex="-1"></a>X<span class="sc">$</span>expected</span></code></pre></div>
<pre><code>##       Followers Nonfollowers
## 18-29  984.1065     1866.893
## 30-49 3440.4032     6526.597
## 50-64 3853.2378     7309.762
## 65+   3766.2526     7144.747</code></pre>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="multidimensional-categorical-variables.html#cb131-1" aria-hidden="true" tabindex="-1"></a>X</span></code></pre></div>
<pre><code>## 
##  Pearson&#39;s Chi-squared test
## 
## data:  localmat
## X-squared = 997.48, df = 3, p-value &lt; 2.2e-16</code></pre>
<p>We compare observed to expected and then the p-value tells that age and tendency are independent features. We are good to move on to next stage on mosaic plots.</p>
</div>
<div id="mosaic-plots" class="section level2 hasAnchor" number="13.3">
<h2><span class="header-section-number">13.3</span> Mosaic plots<a href="multidimensional-categorical-variables.html#mosaic-plots" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Mosaic plots are used for visualizing data from two or more qualitative variables to show their proportions or associations.</p>
<div id="mosaic-plot-with-one-variable" class="section level3 hasAnchor" number="13.3.1">
<h3><span class="header-section-number">13.3.1</span> Mosaic plot with one variable<a href="multidimensional-categorical-variables.html#mosaic-plot-with-one-variable" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="multidimensional-categorical-variables.html#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(grid)</span>
<span id="cb133-2"><a href="multidimensional-categorical-variables.html#cb133-2" aria-hidden="true" tabindex="-1"></a>icecream <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/MusicIcecream.csv&quot;</span>)</span>
<span id="cb133-3"><a href="multidimensional-categorical-variables.html#cb133-3" aria-hidden="true" tabindex="-1"></a>icecreamcolors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;#ff99ff&quot;</span>, <span class="st">&quot;#cc9966&quot;</span>) </span>
<span id="cb133-4"><a href="multidimensional-categorical-variables.html#cb133-4" aria-hidden="true" tabindex="-1"></a>counts2 <span class="ot">&lt;-</span> icecream <span class="sc">%&gt;%</span></span>
<span id="cb133-5"><a href="multidimensional-categorical-variables.html#cb133-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Age, Favorite) <span class="sc">%&gt;%</span></span>
<span id="cb133-6"><a href="multidimensional-categorical-variables.html#cb133-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Freq =</span> <span class="fu">sum</span>(Freq))</span>
<span id="cb133-7"><a href="multidimensional-categorical-variables.html#cb133-7" aria-hidden="true" tabindex="-1"></a>vcd<span class="sc">::</span><span class="fu">mosaic</span>(<span class="sc">~</span>Age, <span class="at">direction =</span> <span class="st">&quot;v&quot;</span>, counts2)</span></code></pre></div>
<p><img src="multidimensional_categorical_files/figure-html/unnamed-chunk-7-1.png" width="460.8" style="display: block; margin: auto;" /></p>
</div>
<div id="mosaic-plot-with-two-variables" class="section level3 hasAnchor" number="13.3.2">
<h3><span class="header-section-number">13.3.2</span> Mosaic plot with two variables<a href="multidimensional-categorical-variables.html#mosaic-plot-with-two-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="multidimensional-categorical-variables.html#cb134-1" aria-hidden="true" tabindex="-1"></a>vcd<span class="sc">::</span><span class="fu">mosaic</span>(Favorite <span class="sc">~</span> Age, counts2, <span class="at">direction =</span> <span class="fu">c</span>(<span class="st">&quot;v&quot;</span>, <span class="st">&quot;h&quot;</span>),</span>
<span id="cb134-2"><a href="multidimensional-categorical-variables.html#cb134-2" aria-hidden="true" tabindex="-1"></a>            <span class="at">highlighting_fill =</span> icecreamcolors)</span></code></pre></div>
<p><img src="multidimensional_categorical_files/figure-html/unnamed-chunk-8-1.png" width="460.8" style="display: block; margin: auto;" /></p>
</div>
<div id="mosaic-plot-with-three-variablesbest-practice" class="section level3 hasAnchor" number="13.3.3">
<h3><span class="header-section-number">13.3.3</span> Mosaic plot with three variables(Best practice)<a href="multidimensional-categorical-variables.html#mosaic-plot-with-three-variablesbest-practice" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Here’s some criteria of best practice of mosaic plots :</p>
<blockquote>
<p>Dependent variables is split last and split horizontally</p>
<p>Fill is set to dependent variable</p>
<p>Other variables are split vertically</p>
<p>Most important level of dependent variable is closest to the x-axis and darkest (or most noticable shade)</p>
</blockquote>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="multidimensional-categorical-variables.html#cb135-1" aria-hidden="true" tabindex="-1"></a>vcd<span class="sc">::</span><span class="fu">mosaic</span>(Favorite <span class="sc">~</span> Age <span class="sc">+</span> Music, counts3,</span>
<span id="cb135-2"><a href="multidimensional-categorical-variables.html#cb135-2" aria-hidden="true" tabindex="-1"></a>            <span class="at">direction =</span> <span class="fu">c</span>(<span class="st">&quot;v&quot;</span>, <span class="st">&quot;v&quot;</span>, <span class="st">&quot;h&quot;</span>),</span>
<span id="cb135-3"><a href="multidimensional-categorical-variables.html#cb135-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">highlighting_fill =</span> icecreamcolors)</span></code></pre></div>
<p><img src="multidimensional_categorical_files/figure-html/unnamed-chunk-9-1.png" width="460.8" style="display: block; margin: auto;" /></p>
</div>
<div id="mosaic-pairs-plot" class="section level3 hasAnchor" number="13.3.4">
<h3><span class="header-section-number">13.3.4</span> Mosaic pairs plot<a href="multidimensional-categorical-variables.html#mosaic-pairs-plot" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Use <code>pairs</code> method to plot a matrix of pairwise mosaic plots for class <code>table</code>:</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="multidimensional-categorical-variables.html#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pairs</span>(<span class="fu">table</span>(cases[,<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>]), <span class="at">highlighting =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="multidimensional_categorical_files/figure-html/unnamed-chunk-10-1.png" width="460.8" style="display: block; margin: auto;" /></p>
</div>
<div id="mosaic-plots-spine-plot" class="section level3 hasAnchor" number="13.3.5">
<h3><span class="header-section-number">13.3.5</span> Mosaic plots: spine plot<a href="multidimensional-categorical-variables.html#mosaic-plots-spine-plot" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Spine plot is a mosaic plot with straight, parallel cuts in one dimension (“spines”) and only one variable cutting in the other direction.</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="multidimensional-categorical-variables.html#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(vcdExtra)</span>
<span id="cb137-2"><a href="multidimensional-categorical-variables.html#cb137-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forcats)</span>
<span id="cb137-3"><a href="multidimensional-categorical-variables.html#cb137-3" aria-hidden="true" tabindex="-1"></a>foodorder <span class="ot">&lt;-</span> Alligator <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(food) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">Freq =</span> <span class="fu">sum</span>(count)) <span class="sc">%&gt;%</span> </span>
<span id="cb137-4"><a href="multidimensional-categorical-variables.html#cb137-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Freq) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(food)</span>
<span id="cb137-5"><a href="multidimensional-categorical-variables.html#cb137-5" aria-hidden="true" tabindex="-1"></a>ally <span class="ot">&lt;-</span> Alligator <span class="sc">%&gt;%</span> </span>
<span id="cb137-6"><a href="multidimensional-categorical-variables.html#cb137-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Freq =</span> count) <span class="sc">%&gt;%</span> </span>
<span id="cb137-7"><a href="multidimensional-categorical-variables.html#cb137-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">size =</span> <span class="fu">fct_relevel</span>(size, <span class="st">&quot;small&quot;</span>),</span>
<span id="cb137-8"><a href="multidimensional-categorical-variables.html#cb137-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">food =</span> <span class="fu">factor</span>(food, <span class="at">levels =</span> foodorder),</span>
<span id="cb137-9"><a href="multidimensional-categorical-variables.html#cb137-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">food =</span> <span class="fu">fct_relevel</span>(food, <span class="st">&quot;other&quot;</span>))</span>
<span id="cb137-10"><a href="multidimensional-categorical-variables.html#cb137-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-11"><a href="multidimensional-categorical-variables.html#cb137-11" aria-hidden="true" tabindex="-1"></a>vcd<span class="sc">::</span><span class="fu">mosaic</span>(food <span class="sc">~</span> sex <span class="sc">+</span> size, ally,</span>
<span id="cb137-12"><a href="multidimensional-categorical-variables.html#cb137-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">direction =</span> <span class="fu">c</span>(<span class="st">&quot;v&quot;</span>, <span class="st">&quot;v&quot;</span>, <span class="st">&quot;h&quot;</span>),</span>
<span id="cb137-13"><a href="multidimensional-categorical-variables.html#cb137-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">highlighting_fill=</span> RColorBrewer<span class="sc">::</span><span class="fu">brewer.pal</span>(<span class="dv">5</span>, <span class="st">&quot;Accent&quot;</span>))</span></code></pre></div>
<p><img src="multidimensional_categorical_files/figure-html/unnamed-chunk-11-1.png" width="460.8" style="display: block; margin: auto;" /></p>
</div>
<div id="mosaic-plot-tree-map" class="section level3 hasAnchor" number="13.3.6">
<h3><span class="header-section-number">13.3.6</span> Mosaic plot: tree map<a href="multidimensional-categorical-variables.html#mosaic-plot-tree-map" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Treemap is a filled rectangular plot representing hierarchical data (fill color does not necessarily represent frequency count)</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="multidimensional-categorical-variables.html#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(treemap)</span>
<span id="cb138-2"><a href="multidimensional-categorical-variables.html#cb138-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(GNI2014)</span>
<span id="cb138-3"><a href="multidimensional-categorical-variables.html#cb138-3" aria-hidden="true" tabindex="-1"></a>treemap<span class="sc">::</span><span class="fu">treemap</span>(GNI2014,</span>
<span id="cb138-4"><a href="multidimensional-categorical-variables.html#cb138-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">index=</span><span class="fu">c</span>(<span class="st">&quot;continent&quot;</span>, <span class="st">&quot;iso3&quot;</span>),</span>
<span id="cb138-5"><a href="multidimensional-categorical-variables.html#cb138-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">vSize=</span><span class="st">&quot;population&quot;</span>,</span>
<span id="cb138-6"><a href="multidimensional-categorical-variables.html#cb138-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">vColor=</span><span class="st">&quot;GNI&quot;</span>,</span>
<span id="cb138-7"><a href="multidimensional-categorical-variables.html#cb138-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">type=</span><span class="st">&quot;value&quot;</span>,</span>
<span id="cb138-8"><a href="multidimensional-categorical-variables.html#cb138-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">format.legend =</span> <span class="fu">list</span>(<span class="at">scientific =</span> <span class="cn">FALSE</span>, <span class="at">big.mark =</span> <span class="st">&quot; &quot;</span>))</span></code></pre></div>
<p><img src="multidimensional_categorical_files/figure-html/unnamed-chunk-12-1.png" width="691.2" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="alluvial-diagrams" class="section level2 hasAnchor" number="13.4">
<h2><span class="header-section-number">13.4</span> Alluvial diagrams<a href="multidimensional-categorical-variables.html#alluvial-diagrams" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Alluvial diagrams are usually used to represent the flow changes in network structure over time or between different levels.</p>
<p>The following plot shows the essential components of alluvial plots used in the naming schemes and documentation (axis, alluvium, stratum, lode):</p>
<center>
<img src="images/alluvial_structure.png" style="width:75.0%" />
</center>
<div id="ggalluvial" class="section level3 hasAnchor" number="13.4.1">
<h3><span class="header-section-number">13.4.1</span> ggalluvial<a href="multidimensional-categorical-variables.html#ggalluvial" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="multidimensional-categorical-variables.html#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggalluvial)</span>
<span id="cb139-2"><a href="multidimensional-categorical-variables.html#cb139-2" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Class1 =</span> <span class="fu">c</span>(<span class="st">&quot;Stats&quot;</span>, <span class="st">&quot;Math&quot;</span>, <span class="st">&quot;Stats&quot;</span>, <span class="st">&quot;Math&quot;</span>, <span class="st">&quot;Stats&quot;</span>, <span class="st">&quot;Math&quot;</span>, <span class="st">&quot;Stats&quot;</span>, <span class="st">&quot;Math&quot;</span>),</span>
<span id="cb139-3"><a href="multidimensional-categorical-variables.html#cb139-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">Class2 =</span> <span class="fu">c</span>(<span class="st">&quot;French&quot;</span>, <span class="st">&quot;French&quot;</span>, <span class="st">&quot;Art&quot;</span>, <span class="st">&quot;Art&quot;</span>, <span class="st">&quot;French&quot;</span>, <span class="st">&quot;French&quot;</span>, <span class="st">&quot;Art&quot;</span>, <span class="st">&quot;Art&quot;</span>),</span>
<span id="cb139-4"><a href="multidimensional-categorical-variables.html#cb139-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">Class3 =</span> <span class="fu">c</span>(<span class="st">&quot;Gym&quot;</span>, <span class="st">&quot;Gym&quot;</span>, <span class="st">&quot;Gym&quot;</span>, <span class="st">&quot;Gym&quot;</span>, <span class="st">&quot;Lunch&quot;</span>, <span class="st">&quot;Lunch&quot;</span>, <span class="st">&quot;Lunch&quot;</span>, <span class="st">&quot;Lunch&quot;</span>),</span>
<span id="cb139-5"><a href="multidimensional-categorical-variables.html#cb139-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">Freq =</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">3</span>, <span class="dv">40</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">15</span>))</span>
<span id="cb139-6"><a href="multidimensional-categorical-variables.html#cb139-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df2, <span class="fu">aes</span>(<span class="at">axis1 =</span> Class1, <span class="at">axis2 =</span> Class2, <span class="at">axis3 =</span> Class3, <span class="at">y =</span> Freq)) <span class="sc">+</span></span>
<span id="cb139-7"><a href="multidimensional-categorical-variables.html#cb139-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_alluvium</span>(<span class="at">color=</span><span class="st">&#39;black&#39;</span>) <span class="sc">+</span></span>
<span id="cb139-8"><a href="multidimensional-categorical-variables.html#cb139-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stratum</span>() <span class="sc">+</span></span>
<span id="cb139-9"><a href="multidimensional-categorical-variables.html#cb139-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">stat =</span> <span class="st">&quot;stratum&quot;</span>, <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste</span>(<span class="fu">after_stat</span>(stratum), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>, <span class="fu">after_stat</span>(count)))) <span class="sc">+</span></span>
<span id="cb139-10"><a href="multidimensional-categorical-variables.html#cb139-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="st">&quot;Class1&quot;</span>, <span class="st">&quot;Class2&quot;</span>, <span class="st">&quot;Class3&quot;</span>))</span></code></pre></div>
<p><img src="multidimensional_categorical_files/figure-html/unnamed-chunk-13-1.png" width="460.8" style="display: block; margin: auto;" /></p>
<p>You can choose to color the alluvium by different variables, for example, the first variable <code>Class1</code> here:</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="multidimensional-categorical-variables.html#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df2, <span class="fu">aes</span>(<span class="at">axis1 =</span> Class1, <span class="at">axis2 =</span> Class2, <span class="at">axis3 =</span> Class3, <span class="at">y =</span> Freq)) <span class="sc">+</span></span>
<span id="cb140-2"><a href="multidimensional-categorical-variables.html#cb140-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_alluvium</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Class1), <span class="at">width =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb140-3"><a href="multidimensional-categorical-variables.html#cb140-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stratum</span>() <span class="sc">+</span></span>
<span id="cb140-4"><a href="multidimensional-categorical-variables.html#cb140-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">stat =</span> <span class="st">&quot;stratum&quot;</span>, <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste</span>(<span class="fu">after_stat</span>(stratum), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>, <span class="fu">after_stat</span>(count)))) <span class="sc">+</span></span>
<span id="cb140-5"><a href="multidimensional-categorical-variables.html#cb140-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="st">&quot;Class1&quot;</span>, <span class="st">&quot;Class2&quot;</span>, <span class="st">&quot;Class3&quot;</span>))</span></code></pre></div>
<p><img src="multidimensional_categorical_files/figure-html/unnamed-chunk-14-1.png" width="460.8" style="display: block; margin: auto;" /></p>
</div>
<div id="geom_flow" class="section level3 hasAnchor" number="13.4.2">
<h3><span class="header-section-number">13.4.2</span> geom_flow<a href="multidimensional-categorical-variables.html#geom_flow" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Another way of plotting alluvial diagrams is using <code>geom_flow</code> rather than <code>geom_alluvium</code>:</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="multidimensional-categorical-variables.html#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df2, <span class="fu">aes</span>(<span class="at">axis1 =</span> Class1, <span class="at">axis2 =</span> Class2, <span class="at">axis3 =</span> Class3, <span class="at">y =</span> Freq)) <span class="sc">+</span></span>
<span id="cb141-2"><a href="multidimensional-categorical-variables.html#cb141-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_flow</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Class1), <span class="at">width =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb141-3"><a href="multidimensional-categorical-variables.html#cb141-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stratum</span>() <span class="sc">+</span></span>
<span id="cb141-4"><a href="multidimensional-categorical-variables.html#cb141-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">stat =</span> <span class="st">&quot;stratum&quot;</span>, <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste</span>(<span class="fu">after_stat</span>(stratum), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>, <span class="fu">after_stat</span>(count)))) <span class="sc">+</span></span>
<span id="cb141-5"><a href="multidimensional-categorical-variables.html#cb141-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="st">&quot;Class1&quot;</span>, <span class="st">&quot;Class2&quot;</span>, <span class="st">&quot;Class3&quot;</span>))</span></code></pre></div>
<p><img src="multidimensional_categorical_files/figure-html/unnamed-chunk-15-1.png" width="460.8" style="display: block; margin: auto;" /></p>
<p>After we use <code>geom_flow</code>, all Math students learning Art came together, which is also the same as Stats students. It makes the graph much clearer than <code>geom_alluvium</code> since there is less cross alluviums between each axises.</p>
</div>
</div>
<div id="heat-map" class="section level2 hasAnchor" number="13.5">
<h2><span class="header-section-number">13.5</span> Heat map<a href="multidimensional-categorical-variables.html#heat-map" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Besides what have been systematically introduced in <code>Chapter 9.2 Heatmaps</code>, this part demonstrated a special case of heat map when both x and y are categorical. Here the heat map can been seen as a clustered bar chart and a pre-defined theme is used to show the dense more clearly.</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="multidimensional-categorical-variables.html#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(vcdExtra)</span>
<span id="cb142-2"><a href="multidimensional-categorical-variables.html#cb142-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb142-3"><a href="multidimensional-categorical-variables.html#cb142-3" aria-hidden="true" tabindex="-1"></a>theme_heat <span class="ot">&lt;-</span> <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb142-4"><a href="multidimensional-categorical-variables.html#cb142-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.line =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb142-5"><a href="multidimensional-categorical-variables.html#cb142-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks =</span> <span class="fu">element_blank</span>())</span>
<span id="cb142-6"><a href="multidimensional-categorical-variables.html#cb142-6" aria-hidden="true" tabindex="-1"></a>orderedclasses <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Farm&quot;</span>, <span class="st">&quot;LoM&quot;</span>, <span class="st">&quot;UpM&quot;</span>, <span class="st">&quot;LoNM&quot;</span>, <span class="st">&quot;UpNM&quot;</span>)</span>
<span id="cb142-7"><a href="multidimensional-categorical-variables.html#cb142-7" aria-hidden="true" tabindex="-1"></a>mydata <span class="ot">&lt;-</span> Yamaguchi87</span>
<span id="cb142-8"><a href="multidimensional-categorical-variables.html#cb142-8" aria-hidden="true" tabindex="-1"></a>mydata<span class="sc">$</span>Son <span class="ot">&lt;-</span> <span class="fu">factor</span>(mydata<span class="sc">$</span>Son, <span class="at">levels =</span> orderedclasses)</span>
<span id="cb142-9"><a href="multidimensional-categorical-variables.html#cb142-9" aria-hidden="true" tabindex="-1"></a>mydata<span class="sc">$</span>Father <span class="ot">&lt;-</span> <span class="fu">factor</span>(mydata<span class="sc">$</span>Father,</span>
<span id="cb142-10"><a href="multidimensional-categorical-variables.html#cb142-10" aria-hidden="true" tabindex="-1"></a>                        <span class="at">levels =</span> orderedclasses)</span>
<span id="cb142-11"><a href="multidimensional-categorical-variables.html#cb142-11" aria-hidden="true" tabindex="-1"></a>mydata3 <span class="ot">&lt;-</span> mydata <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Country, Father) <span class="sc">%&gt;%</span> </span>
<span id="cb142-12"><a href="multidimensional-categorical-variables.html#cb142-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Total =</span> <span class="fu">sum</span>(Freq)) <span class="sc">%&gt;%</span> <span class="fu">ungroup</span>()</span>
<span id="cb142-13"><a href="multidimensional-categorical-variables.html#cb142-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mydata3, <span class="fu">aes</span>(<span class="at">x =</span> Father, <span class="at">y =</span> Son)) <span class="sc">+</span></span>
<span id="cb142-14"><a href="multidimensional-categorical-variables.html#cb142-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>(<span class="fu">aes</span>(<span class="at">fill =</span> (Freq<span class="sc">/</span>Total)), <span class="at">color =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span></span>
<span id="cb142-15"><a href="multidimensional-categorical-variables.html#cb142-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_fixed</span>() <span class="sc">+</span> </span>
<span id="cb142-16"><a href="multidimensional-categorical-variables.html#cb142-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient2</span>(<span class="at">low =</span> <span class="st">&quot;black&quot;</span>, <span class="at">mid =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb142-17"><a href="multidimensional-categorical-variables.html#cb142-17" aria-hidden="true" tabindex="-1"></a>                        <span class="at">high =</span> <span class="st">&quot;red&quot;</span>, <span class="at">midpoint =</span> .<span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb142-18"><a href="multidimensional-categorical-variables.html#cb142-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>Country) <span class="sc">+</span> theme_heat</span></code></pre></div>
<p><img src="multidimensional_categorical_files/figure-html/unnamed-chunk-16-1.png" width="691.2" style="display: block; margin: auto;" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="multidimensional-continuous-variables.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="missing-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jtr13/edav2/edit/main/multidimensional_categorical.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/jtr13/edav2/blob/main/multidimensional_categorical.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
